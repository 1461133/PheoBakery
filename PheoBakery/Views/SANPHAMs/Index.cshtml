@using PheoBakery.Models;
@model IEnumerable<SANPHAM>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Admin/AdminQuanTri.cshtml";
    // khởi tạo webgrid
    WebGrid grid = new WebGrid(source: Model, rowsPerPage: 10);
}

<h2 style="font-weight:bold;text-align:center">Quản Lý Sản Phẩm</h2>

@grid.GetHtml(
            tableStyle: "table table-bordered table-condensed table-responsive",
            headerStyle: "gridHead",
            footerStyle: "gridHead",
            rowStyle: "gridRow",
            alternatingRowStyle: "gridAlter",
            columns: grid.Columns(
                         grid.Column("MASP", "STT"),
                         grid.Column("TENSP", "Tên sản phẩm"),
                         grid.Column("DONGIA", "Đơn giá"),
                        grid.Column("MOTA", "Số lượng"),
                        grid.Column("LUOTXEM", "Ngày nhập"),
                        grid.Column("MALOAI", "Loại sản phẩm", format: p => p.MALOAI != null ? p.MALOAI.TENLOAI : ""), // toán tử 3 ngôi
                        grid.Column("HINHANH", "Hình ảnh", format: p => @Html.Raw("<img width=\"200\" height=\"250\" src = \"../Content/ckfinder/core/connector/aspx/" + p.HINHANH + "\">")),
                        grid.Column("Tạo Mới Sản Phẩm", format: p => @Html.ActionLink("Thêm", "TaoMoiSanPham", null, new { @class = "btn btn-success" })),
                        grid.Column("Chỉnh Sửa Sản Phẩm", format: p => @Html.ActionLink("Sửa", "ChinhSuaSanPham", new { @MASP = p.MASP }, new { @class = "btn btn-danger" })),
                       grid.Column("Xóa Sản Phẩm", format: p => @Html.ActionLink("Xóa", "XoaSanPham", new { @MASP = p.MASP }, new { @class = "btn btn-default" }))

                        ))
